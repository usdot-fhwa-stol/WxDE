# Project Description

The Weather Data Environment (WxDE) is a research project that collects and shares transportation-related weather data with a particular focus on weather data related to connected vehicle applications. The WxDE collects data in real time from both fixed environmental sensor stations and mobile sources. The WxDE computes value-added enhancements to this data, such as by computing quality-check values for observed data and computing inferred weather parameters from vehicle data (e.g., inferring precipitation based on windshield wiper activation). The WxDE archives both collected and computed data. The WxDE supports subscriptions for access to real-time data in near real time generated by individual weather-related connected vehicle projects.

# Prerequisites

Requires:
- Linux Server
- Java 7
- Apache Tomcat Webserver
- A jdbc compatible database

# Usage

## Building
The Weather Data Environment can be built and deployed on a Linux server by following these steps:

* Download source code and open in an IDE (NetBeans or Eclipse) to compile the Java code
* Download and install a jdbc compatible database on Linux server
* Create wxde database user
* Download and install jdbc driver for the selected database
* Run SQL scripts included with source code to initalize database
* Download, install and configure Apache Tomcat Webserver. Click [here for documentation](https://tomcat.apache.org/download-90.cgi)
* Create tomcat user on operating system and update file permissions based on tomcat's [recommendations](https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html)
* Update tomcat server.xml file to include Host, Realm (for user authencation), and Resource (for user database) entries.
* Update tomcat web.xml to include servlet definitions
* Copy web files included with source code into the desired tomcat webapps folder
* Move compiled .class files into the tomcat classes directory
* Create data directory and metadata, reports, and subscriptons subdirectories in the tomcat webapps folder
* Install collector-scripts.tar.gz
* Add entries to the crontab to schedule regular execution of external collector scripts


## Testing

There are no test cases.

## Execution

Once everything is configured for the deployment, the following command can be ran to start the application:
```
sudo -u tomcat <path to tomcat>/bin/catalina.sh start
```

# Additional Notes

Accounts may have to be setup with agencies and vendors to receive a username and password to collect data.

# Version History and Retention

**Status:** This project is in the release phase.

**Release Frequency:** This project currently has no plans for updates

**Release History: See [CHANGELOG.md](CHANGELOG.md)**

**Retention:** This project will remain publicly accessible for the foreseeable future.

# License

This project is licensed under the Creative Commons 1.0 Universal (CC0 1.0) License - see the [LICENSE.md](LICENSE.md) for more details. 

# Contributions

Please read [CONTRIBUTING.md](CONTRIBUTING.MD) for details on our Code of Conduct, the process for submitting pull requests to us, and how contributions will be released.

# Contact Information

Contact Name: Federal Highway Administration
Contact Information: 

# Acknowledgements

Please site the Federal Highway Administration instance of the Weather Data Environment if using this code: [https://wxde.fhwa.dot.gov/](https://wxde.fhwa.dot.gov/)
